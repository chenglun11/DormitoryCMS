<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lchnan.dormitory.mapper.MenuMapper">

	<resultMap type="com.lchnan.dormitory.entity.Menu" id="Menu">
		<id column="id" property="id"/>
		<result column="title"  property="title"/>
		<result column="icon"  property="icon"/>
		<result column="href"  property="href"/>
		<result column="target"  property="target"/>
		<result column="parent_id"  property="parentId"/>
		<result column="type"  property="type"/>
	</resultMap>

	<select id="query" resultMap="Menu">
		select tb_menu.* from tb_menu,tb_user_menu where tb_menu.id=tb_user_menu.menu_id
													 and user_id = #{userId} and tb_menu.type = 0
	</select>

</mapper>